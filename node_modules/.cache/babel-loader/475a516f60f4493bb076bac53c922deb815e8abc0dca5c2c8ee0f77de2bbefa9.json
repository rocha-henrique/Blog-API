{"ast":null,"code":"import _regeneratorRuntime from\"/home/jackpoot/henrique/projetos-finalizados/blog-apii/blog-triibo/Blog-API/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jackpoot/henrique/projetos-finalizados/blog-apii/blog-triibo/Blog-API/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jackpoot/henrique/projetos-finalizados/blog-apii/blog-triibo/Blog-API/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useMemo,useEffect}from\"react\";import Context from\"./Context\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";function Provider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setSearchResults=_useState4[1];var handleSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchTerm){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://jsonplaceholder.typicode.com/posts?q=\".concat(searchTerm,\"&_limit=10\"));case 3:response=_context.sent;setSearchResults(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Erro ao buscar resultados da pesquisa:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleSearch(_x){return _ref2.apply(this,arguments);};}();var clearSearchResults=function clearSearchResults(){setSearchResults([]);};var apiEndPoint='https://jsonplaceholder.typicode.com/posts';useEffect(function(){var getPosts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _yield$axios$get,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(apiEndPoint);case 2:_yield$axios$get=_context2.sent;res=_yield$axios$get.data;setPosts(res);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function getPosts(){return _ref3.apply(this,arguments);};}();getPosts();},[setPosts]);var value=useMemo(function(){return{posts:posts,setPosts:setPosts,searchResults:searchResults,handleSearch:handleSearch,clearSearchResults:clearSearchResults};},[posts,setPosts,searchResults]);return/*#__PURE__*/_jsx(Context.Provider,{value:value,children:children});}export default Provider;","map":{"version":3,"names":["React","useState","useMemo","useEffect","Context","axios","jsx","_jsx","Provider","_ref","children","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","searchResults","setSearchResults","handleSearch","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","searchTerm","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","console","error","stop","_x","apply","arguments","clearSearchResults","apiEndPoint","getPosts","_ref3","_callee2","_yield$axios$get","res","_callee2$","_context2","value"],"sources":["/home/jackpoot/henrique/projetos-finalizados/blog-apii/blog-triibo/Blog-API/src/Context/Provider.jsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Context from \"./Context\";\nimport axios from \"axios\";\n\nfunction Provider({ children }) {\n  const [posts, setPosts] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearch = async (searchTerm) => {\n    try {\n      const response = await axios.get(\n        `https://jsonplaceholder.typicode.com/posts?q=${searchTerm}&_limit=10`\n      );\n      setSearchResults(response.data);\n    } catch (error) {\n      console.error(\"Erro ao buscar resultados da pesquisa:\", error);\n    }\n  };\n\n  const clearSearchResults = () => {\n    setSearchResults([]);\n  };\n\n  const apiEndPoint = 'https://jsonplaceholder.typicode.com/posts';\n  useEffect(() => {\n    const getPosts = async () => {\n      const { data: res } = await axios.get(apiEndPoint);\n      setPosts(res);\n    };\n    getPosts();\n  },[setPosts]);\n\n\n  const value = useMemo(\n    () => ({ posts, setPosts, searchResults, handleSearch, clearSearchResults }), [posts, setPosts, searchResults],\n  );\n\n    return <Context.Provider value={ value }>{ children }</Context.Provider>;\n}\n\nProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Provider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}